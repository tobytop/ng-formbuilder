<ng-container *ngIf="data.mode=='op'; else detail">
    <form-box #box [mainCarry]="detail" [name]="data.name" [controltype]="data.controltype" (controlclick)="onClick($event)"></form-box>
</ng-container>
  <ng-template #detail>
      <d-form-item>
          <d-form-label [required]="data.required" [hasHelp]="data.help" [helpTips]="data.helptip||''">{{data.label}}</d-form-label>
          <d-form-control>
            <ng-container *ngIf="data.datetype=='date'; else datarange">
              <d-datepicker-pro 
                [formControl]="control"
                [attr.name]="data.controlname"
                [(ngModel)]="data.defaultvalue" 
                [showTime] = "data.showtime" 
                [appendToBody]="true"
                [dValidateRules]="data.rules"
                [format]="data.dateFormat"></d-datepicker-pro>
            </ng-container>
              
            <ng-template #datarange>
                <d-range-datepicker-pro
                  [formControl]="control"
                  [attr.name]="data.controlname"
                  [appendToBody]="true"
                  [(ngModel)]="data.defaultvalue"
                  [showTime]="data.showtime"
                  [dValidateRules]="data.rules"
                ></d-range-datepicker-pro>
            </ng-template>
          </d-form-control>
        </d-form-item>
  </ng-template>